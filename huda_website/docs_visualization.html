<!DOCTYPE html>
<html lang="en" class="h-full bg-gray-50">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HuDa Docs â€” Visualization</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  </head>
  <body class="min-h-screen">
    <div class="max-w-5xl mx-auto p-6 md:p-10">
      <header class="flex items-center justify-between mb-8">
        <div class="flex items-center gap-3">
          <i data-lucide="bar-chart-3" class="w-6 h-6 text-indigo-600"></i>
          <h1 class="text-2xl font-bold tracking-tight">Phase: Visualization</h1>
        </div>
        <a href="./index.html" class="text-sm text-gray-600 hover:text-gray-900 inline-flex items-center gap-2"><i data-lucide="arrow-left" class="w-4 h-4"></i> Back</a>
      </header>

      <p class="text-gray-700">Lightweight placeholder chart specs for common visuals. Each function returns a minimal spec dict. Rendering/export is left to frontend or a renderer.
      Data inputs accept CSV path, Pandas DataFrame, or Polars DataFrame.</p>

      <!-- Bar Chart -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="bar-chart">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="bar-chart-3" class="w-4 h-4"></i> bar_chart(data, category_col, value_col, orientation="vertical", stacked=False, color_col=None, title=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Categorical bar chart.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Compare categories.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Simple comparison, optionally stacked or colored.</p>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.visualize import bar_chart
import polars as pl

df = pl.DataFrame({"province":["A","B"], "reached":[1200,900]})
spec = bar_chart(df, category_col="province", value_col="reached")
</code></pre></div>
      </section>

      <!-- Line Chart -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="line-chart">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="line-chart" class="w-4 h-4"></i> line_chart(data, x_col, y_col, series_col=None, title=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Time/sequence line.</p>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.visualize import line_chart
spec = line_chart(df, x_col="date", y_col="value", series_col="cluster")
</code></pre></div>
      </section>

      <!-- Pie Chart -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="pie-chart">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="pie-chart" class="w-4 h-4"></i> pie_chart(data, category_col, value_col, title=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Part-to-whole distribution.</p>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.visualize import pie_chart
spec = pie_chart(df, category_col="cluster", value_col="funding")
</code></pre></div>
      </section>

      <!-- Histogram -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="histogram">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="list-collapse" class="w-4 h-4"></i> histogram(data, value_col, bins=10, title=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Distribution of a numeric variable.</p>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.visualize import histogram
spec = histogram(df, value_col="fcs", bins=20)
</code></pre></div>
      </section>

      <!-- Box Plot -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="box-plot">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="square" class="w-4 h-4"></i> box_plot(data, category_col, value_col, title=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Spread across categories.</p>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.visualize import box_plot
spec = box_plot(df, category_col="province", value_col="fcs")
</code></pre></div>
      </section>

      <!-- Stacked Bar Chart -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="stacked-bar">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="layers" class="w-4 h-4"></i> stacked_bar_chart(data, category_col, value_col, stack_col, title=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Stacked composition per category.</p>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.visualize import stacked_bar_chart
spec = stacked_bar_chart(df, category_col="province", value_col="value", stack_col="cluster")
</code></pre></div>
      </section>

      <!-- Multi-series Line Chart -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="multi-line">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="line-chart" class="w-4 h-4"></i> multi_series_line_chart(data, x_col, y_col, series_col, title=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Multiple lines by series.</p>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.visualize import multi_series_line_chart
spec = multi_series_line_chart(df, x_col="date", y_col="value", series_col="cluster")
</code></pre></div>
      </section>

      <!-- Heatmap -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="heatmap">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="flame" class="w-4 h-4"></i> heatmap(data, x_col, y_col, value_col, title=None, scale="sequential")</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Correlation or intensity matrix.</p>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.visualize import heatmap
spec = heatmap(df, x_col="province", y_col="indicator", value_col="score")
</code></pre></div>
      </section>

      <!-- Bubble Chart -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="bubble">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="circle-dot" class="w-4 h-4"></i> bubble_chart(data, x_col, y_col, size_col, color_col=None, title=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Scatter with size and color.</p>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.visualize import bubble_chart
spec = bubble_chart(df, x_col="needs", y_col="funding", size_col="population", color_col="cluster")
</code></pre></div>
      </section>

      <!-- Sankey -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="sankey">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="workflow" class="w-4 h-4"></i> sankey_diagram(source_col, target_col, value_col, title=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Flow of aid/resources.</p>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.visualize import sankey_diagram
spec = sankey_diagram(source_col="donor", target_col="cluster", value_col="amount")
</code></pre></div>
      </section>

      <!-- Treemap -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="treemap">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="trees" class="w-4 h-4"></i> treemap(category_col, value_col, group_col=None, title=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Sector allocations.</p>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.visualize import treemap
spec = treemap(category_col="sector", value_col="amount", group_col="province")
</code></pre></div>
      </section>

      <!-- Radar/Spider Chart -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="radar">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="gauge" class="w-4 h-4"></i> radar_chart(axis_cols, series_col=None, title=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Multi-sector needs profile.</p>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.visualize import radar_chart
spec = radar_chart(axis_cols=["fcs","rcsi","wash","health"]) 
</code></pre></div>
      </section>

      <!-- Interactive Dashboard -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="dashboard">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="layout-dashboard" class="w-4 h-4"></i> interactive_dashboard(widgets=None, charts=None, layout="grid", title=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Combine charts and filters.</p>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.visualize import interactive_dashboard, bar_chart
widgets = [{"type":"select","field":"province"}]
charts = [bar_chart(df, "province","reached")]
spec = interactive_dashboard(widgets=widgets, charts=charts)
</code></pre></div>
      </section>

      <!-- Time Slider -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="time-slider">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="timer" class="w-4 h-4"></i> time_slider(time_col, title=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Interactive time control.</p>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.visualize import time_slider
spec = time_slider(time_col="date")
</code></pre></div>
      </section>

      <!-- Animated Crisis Progression Map -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="animated-crisis-map">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="map" class="w-4 h-4"></i> animated_crisis_map(geojson_col, time_col, value_col, title=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Animated map over time.</p>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.visualize import animated_crisis_map
spec = animated_crisis_map(geojson_col="geom", time_col="date", value_col="incidents")
</code></pre></div>
      </section>

      <!-- Compare Countries -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="compare-countries">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="globe" class="w-4 h-4"></i> compare_countries(country_col, metric_cols, title=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Compare multiple countries.</p>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.visualize import compare_countries
spec = compare_countries(country_col="country", metric_cols=["needs","funding"]) 
</code></pre></div>
      </section>

      <!-- Funding vs Needs -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="funding-vs-needs">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="banknote" class="w-4 h-4"></i> plot_funding_vs_needs(funding_col, needs_col, group_col=None, title=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Compare funding to needs.</p>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.visualize import plot_funding_vs_needs
spec = plot_funding_vs_needs(funding_col="funding", needs_col="needs", group_col="province") 
</code></pre></div>
      </section>

      <!-- Targeted vs Reached -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="targeted-vs-reached">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="target" class="w-4 h-4"></i> plot_targeted_vs_reached(targeted_col, reached_col, group_col=None, title=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Target vs actual reached.</p>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.visualize import plot_targeted_vs_reached
spec = plot_targeted_vs_reached(targeted_col="target", reached_col="reached", group_col="cluster") 
</code></pre></div>
      </section>

      <!-- Gaps Colored -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="gaps-colored">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="palette" class="w-4 h-4"></i> show_gaps_colored(need_col, reached_col, color_scheme="red-yellow-green", title=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Color-coded gaps.</p>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.visualize import show_gaps_colored
spec = show_gaps_colored(need_col="needs", reached_col="reached")
</code></pre></div>
      </section>

      <!-- Export Plots -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="export-plots">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="download" class="w-4 h-4"></i> export_plots(chart_spec, formats=["png"], filename_base="chart")</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Export chart spec (placeholder).</p>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.visualize import export_plots, bar_chart
spec = bar_chart(df, category_col="province", value_col="reached")
export = export_plots(spec, formats=["png","svg","pdf"], filename_base="my_chart")
</code></pre></div>
      </section>

      <footer class="text-xs text-gray-500 mt-10">Â© <span id="year"></span> HuDa</footer>
    </div>

    <script>
      const yearEl = document.getElementById('year');
      if (yearEl) yearEl.textContent = new Date().getFullYear();
      lucide.createIcons();
      if (window.hljs) { hljs.highlightAll(); }
      document.querySelectorAll('.copy-btn').forEach((btn) => {
        btn.addEventListener('click', () => {
          const pre = btn.nextElementSibling;
          const code = pre && pre.querySelector('code');
          if (!code) return;
          const text = code.innerText;
          navigator.clipboard.writeText(text).then(() => {
            const old = btn.textContent;
            btn.textContent = 'Copied!';
            setTimeout(() => (btn.textContent = old), 1200);
          });
        });
      });
    </script>
  </body>
</html>
