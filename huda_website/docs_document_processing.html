<!DOCTYPE html>
<html lang="en" class="h-full bg-gray-50">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HuDa Docs — Text & Document Processing</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <link rel="stylesheet" href="./theme.css" />
  </head>
  <body class="min-h-screen iom">
    <!-- Top Gradient Header -->
    <div class="w-full bg-gradient-to-r from-indigo-600 via-sky-600 to-emerald-600 text-white">
      <div class="max-w-7xl mx-auto px-4 md:px-6">
        <div class="flex items-center justify-between py-3">
          <div class="flex items-center gap-2">
            <i data-lucide="database" class="w-5 h-5"></i>
            <span class="font-semibold tracking-tight">HuDa — Humanitarian Data Library</span>
          </div>
          <div class="hidden md:flex items-center gap-4 text-sm opacity-90">
            <a href="./index.html#overview" class="inline-flex items-center gap-1 hover:opacity-100"><i data-lucide="home" class="w-4 h-4"></i>Overview</a>
            <a href="./index.html" class="inline-flex items-center gap-1 hover:opacity-100"><i data-lucide="book-open" class="w-4 h-4"></i>Docs</a>
            <a href="#about" class="inline-flex items-center gap-1 hover:opacity-100"><i data-lucide="info" class="w-4 h-4"></i>About Us</a>
            <a href="#contact" class="inline-flex items-center gap-1 hover:opacity-100"><i data-lucide="mail" class="w-4 h-4"></i>Contact Us</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Persistent Sidebar -->
    <aside class="hidden md:block fixed top-[48px] left-0 h-[calc(100vh-48px)] w-72 overflow-y-auto bg-white/80 backdrop-blur border-r border-white/60 shadow-sm p-4">
      <div class="flex items-center gap-2 mb-4">
        <i data-lucide="database" class="w-5 h-5 text-indigo-600"></i>
        <span class="text-sm font-semibold">HuDa Navigation</span>
      </div>
      <nav class="space-y-1 text-sm">
        <a href="./index.html#overview" class="flex items-center gap-2 px-3 py-2 rounded-md hover:bg-gray-100 text-gray-700"><i data-lucide="home" class="w-4 h-4"></i>Overview</a>
        <div class="pt-2 pb-1 text-[10px] uppercase tracking-wider text-gray-500">Phases</div>
        <a href="./docs_opening.html" class="flex items-center gap-2 px-3 py-2 rounded-md hover:bg-gray-100 text-gray-700"><i data-lucide="folder-open" class="w-4 h-4"></i>Opening</a>
        <a href="./docs_cleaning.html" class="flex items-center gap-2 px-3 py-2 rounded-md hover:bg-gray-100 text-gray-700"><i data-lucide="brush" class="w-4 h-4"></i>Cleaning</a>
        <a href="./docs_transformation.html" class="flex items-center gap-2 px-3 py-2 rounded-md hover:bg-gray-100 text-gray-700"><i data-lucide="workflow" class="w-4 h-4"></i>Transformation</a>
        <a href="./docs_validation_quality.html" class="flex items-center gap-2 px-3 py-2 rounded-md hover:bg-gray-100 text-gray-700"><i data-lucide="shield-check" class="w-4 h-4"></i>Validation & Quality</a>
        <a href="./docs_geospatial.html" class="flex items-center gap-2 px-3 py-2 rounded-md hover:bg-gray-100 text-gray-700"><i data-lucide="map" class="w-4 h-4"></i>Geospatial</a>
        <a href="./docs_analysis.html" class="flex items-center gap-2 px-3 py-2 rounded-md hover:bg-gray-100 text-gray-700"><i data-lucide="line-chart" class="w-4 h-4"></i>Analysis</a>
        <a href="./docs_automation.html" class="flex items-center gap-2 px-3 py-2 rounded-md hover:bg-gray-100 text-gray-700"><i data-lucide="workflow" class="w-4 h-4"></i>Automation</a>
        <a href="./docs_interoperability.html" class="flex items-center gap-2 px-3 py-2 rounded-md hover:bg-gray-100 text-gray-700"><i data-lucide="share-2" class="w-4 h-4"></i>Interoperability</a>
        <a href="./docs_visualization.html" class="flex items-center gap-2 px-3 py-2 rounded-md hover:bg-gray-100 text-gray-700"><i data-lucide="bar-chart-3" class="w-4 h-4"></i>Visualization</a>
        <a href="./docs_ml4humanitarian.html" class="flex items-center gap-2 px-3 py-2 rounded-md hover:bg-gray-100 text-gray-700"><i data-lucide="bot" class="w-4 h-4"></i>ML for Humanitarian Data</a>
        <a href="./docs_document_processing.html" class="flex items-center gap-2 px-3 py-2 rounded-md bg-indigo-50 text-indigo-700 hover:bg-indigo-100"><i data-lucide="file-search" class="w-4 h-4"></i>Document Processing</a>
        <a href="./docs_humanitarian_metrics.html" class="flex items-center gap-2 px-3 py-2 rounded-md hover:bg-gray-100 text-gray-700"><i data-lucide="activity" class="w-4 h-4"></i>Humanitarian Metrics</a>
      </nav>
    </aside>

    <!-- Content wrapper to offset sidebar -->
    <div class="md:pl-72">
    <div class="max-w-5xl mx-auto p-6 md:p-10">
      <header class="flex items-center justify-between mb-8">
        <div class="flex items-center gap-3">
          <i data-lucide="file-search" class="w-6 h-6 text-indigo-600"></i>
          <h1 class="text-2xl font-bold tracking-tight">Phase: Text & Document Processing</h1>
        </div>
        <a href="./index.html" class="text-sm text-gray-600 hover:text-gray-900 inline-flex items-center gap-2"><i data-lucide="arrow-left" class="w-4 h-4"></i> Back</a>
      </header>

      <p class="text-gray-700">Each function returns a lightweight intent spec; it does not perform extraction or NLP itself. Use with your preferred tools. Every card includes What/When/Why/Parameters, a Python Example, and the returned Output preview.</p>

      <!-- Process PDF tables -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="pdf-tables">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-1"><i data-lucide="table" class="w-4 h-4"></i> process_pdf_tables(pdf_path, pages=None, table_engine="camelot", output_format="csv")</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Extract tabular data from PDFs.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Situation reports and annexes.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Convert tables to data.</p>
        <h3 class="text-sm font-semibold mt-2">Example</h3>
        <div class="relative"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.document_processing import process_pdf_tables
spec = process_pdf_tables("/reports/sitrep.pdf", pages="1-3", table_engine="camelot", output_format="csv")
print(spec)
</code></pre></div>
        <h3 class="text-sm font-semibold mt-2">Output</h3>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-json">{
  "type": "doc_process_pdf_tables",
  "pdf_path": "/reports/sitrep.pdf",
  "options": {"pages": "1-3", "table_engine": "camelot", "output_format": "csv"},
  "preview": {"will_extract_tables": true}
}
</code></pre>
      </section>

      <!-- Process Word reports -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="word-reports">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-1"><i data-lucide="file" class="w-4 h-4"></i> process_word_reports(docx_path, extract_tables=True, extract_paragraphs=True, output_format="json")</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Extract text and tables from DOCX.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Shared partner reports.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Structure unstructured content.</p>
        <h3 class="text-sm font-semibold mt-2">Example</h3>
        <div class="relative"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.document_processing import process_word_reports
spec = process_word_reports("/reports/partner.docx", extract_tables=True, extract_paragraphs=True, output_format="json")
print(spec)
</code></pre></div>
        <h3 class="text-sm font-semibold mt-2">Output</h3>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-json">{
  "type": "doc_process_word_reports",
  "docx_path": "/reports/partner.docx",
  "options": {"extract_tables": true, "extract_paragraphs": true, "output_format": "json"},
  "preview": {"will_extract": true}
}
</code></pre>
      </section>

      <!-- Extract indicators from text -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="extract-indicators">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-1"><i data-lucide="list-checks" class="w-4 h-4"></i> extract_indicators_from_text(texts, indicators=None, language="en", use_regex=True)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Find indicator mentions.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Parsing narrative reports.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Build indicator datasets.</p>
        <h3 class="text-sm font-semibold mt-2">Example</h3>
        <div class="relative"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.document_processing import extract_indicators_from_text
texts = ["Coverage reached 60% in province A.", "FCS median 45."]
spec = extract_indicators_from_text(texts, indicators=["coverage","fcs"], language="en")
print(spec)
</code></pre></div>
        <h3 class="text-sm font-semibold mt-2">Output</h3>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-json">{
  "type": "doc_extract_indicators",
  "language": "en",
  "inputs": 2,
  "options": {"use_regex": true, "indicators": ["coverage","fcs"]},
  "preview": {"will_extract_mentions": true}
}
</code></pre>
      </section>

      <!-- Natural language dataset search -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="nl-search">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-1"><i data-lucide="search" class="w-4 h-4"></i> dataset_natural_language_search(query, datasets, top_k=5, use_embeddings=True, language="en")</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Query datasets in natural language.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Exploratory analysis.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Faster discovery.</p>
        <h3 class="text-sm font-semibold mt-2">Example</h3>
        <div class="relative"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.document_processing import dataset_natural_language_search
spec = dataset_natural_language_search("Which districts have lowest coverage?", ["/data/coverage.csv"], top_k=3)
print(spec)
</code></pre></div>
        <h3 class="text-sm font-semibold mt-2">Output</h3>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-json">{
  "type": "doc_dataset_nl_search",
  "query": "Which districts have lowest coverage?",
  "datasets": ["/data/coverage.csv"],
  "options": {"top_k": 3, "use_embeddings": true, "language": "en"},
  "preview": {"will_search": true}
}
</code></pre>
      </section>

      <!-- Translation -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="translate-indicators">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-1"><i data-lucide="languages" class="w-4 h-4"></i> translate_indicators(texts, source_lang="en", target_langs=["fa","ps","ar","fr"], domain="humanitarian")</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Translate indicator terms.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Multilingual reporting.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Consistent terminology.</p>
        <h3 class="text-sm font-semibold mt-2">Example</h3>
        <div class="relative"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.document_processing import translate_indicators
spec = translate_indicators(["coverage","needs"], source_lang="en", target_langs=["fa","ps"]) 
print(spec)
</code></pre></div>
        <h3 class="text-sm font-semibold mt-2">Output</h3>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-json">{
  "type": "doc_translate_indicators",
  "source_lang": "en",
  "target_langs": ["fa","ps"],
  "inputs": 2,
  "options": {"domain": "humanitarian"},
  "preview": {"will_translate": true}
}
</code></pre>
      </section>

      <!-- NER -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="ner">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-1"><i data-lucide="scan" class="w-4 h-4"></i> named_entity_recognition(texts, language="en", entity_types=None, model_type="transformer")</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Tag orgs and locations.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Extract structured entities.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Build knowledge bases.</p>
        <h3 class="text-sm font-semibold mt-2">Example</h3>
        <div class="relative"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.document_processing import named_entity_recognition
spec = named_entity_recognition(["WFP delivered in Kandahar"], language="en", entity_types=["ORG","LOC"])
print(spec)
</code></pre></div>
        <h3 class="text-sm font-semibold mt-2">Output</h3>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-json">{
  "type": "doc_named_entity_recognition",
  "language": "en",
  "inputs": 1,
  "options": {"entity_types": ["ORG","LOC"], "model_type": "transformer"},
  "preview": {"will_tag_entities": true}
}
</code></pre>
      </section>

      <!-- Sentiment analysis -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="sentiment">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-1"><i data-lucide="smile" class="w-4 h-4"></i> sentiment_analysis_reports(texts, language="en", model_type="transformer", aggregate=True)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Score sentiment in reports.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Field reporting, community feedback.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Monitor perception and risk.</p>
        <h3 class="text-sm font-semibold mt-2">Example</h3>
        <div class="relative"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.document_processing import sentiment_analysis_reports
spec = sentiment_analysis_reports(["Access improved but gaps remain."], language="en", aggregate=True)
print(spec)
</code></pre></div>
        <h3 class="text-sm font-semibold mt-2">Output</h3>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-json">{
  "type": "doc_sentiment_analysis",
  "language": "en",
  "inputs": 1,
  "options": {"model_type": "transformer", "aggregate": true},
  "preview": {"will_score_sentiment": true}
}
</code></pre>
      </section>

      <!-- Needs classification by sector -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="needs-classification">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-1"><i data-lucide="layers" class="w-4 h-4"></i> classify_needs_by_sector(texts, label_set=["food","wash","health","shelter","protection","education"], language="en", model_type="transformer")</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Classify needs text to sectors.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Needs assessments.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Rapid thematic tagging.</p>
        <h3 class="text-sm font-semibold mt-2">Example</h3>
        <div class="relative"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.document_processing import classify_needs_by_sector
spec = classify_needs_by_sector(["Households lack access to safe water."], label_set=["wash","health"]) 
print(spec)
</code></pre></div>
        <h3 class="text-sm font-semibold mt-2">Output</h3>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-json">{
  "type": "doc_classify_needs_by_sector",
  "language": "en",
  "labels": ["wash","health"],
  "inputs": 1,
  "options": {"model_type": "transformer"},
  "preview": {"will_classify": true}
}
</code></pre>
      </section>

      <!-- Extract crisis keywords -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="crisis-keywords">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-1"><i data-lucide="sparkles" class="w-4 h-4"></i> extract_crisis_keywords(texts, language="en", method="textrank", top_k=20)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Key phrases from text.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Thematic analysis.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Summarize large volumes.</p>
        <h3 class="text-sm font-semibold mt-2">Example</h3>
        <div class="relative"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.document_processing import extract_crisis_keywords
spec = extract_crisis_keywords(["Roads blocked due to floods; aid delayed."], method="textrank", top_k=10)
print(spec)
</code></pre></div>
        <h3 class="text-sm font-semibold mt-2">Output</h3>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-json">{
  "type": "doc_extract_crisis_keywords",
  "language": "en",
  "inputs": 1,
  "options": {"method": "textrank", "top_k": 10},
  "preview": {"will_extract_keywords": true}
}
</code></pre>
      </section>

      <!-- Knowledge graph -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="knowledge-graph">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-1"><i data-lucide="network" class="w-4 h-4"></i> build_humanitarian_knowledge_graph(entities, relations, schema=None, export_format="graphml")</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Build entity-relation graphs.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Linking orgs, places, events.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Reasoning and discovery.</p>
        <h3 class="text-sm font-semibold mt-2">Example</h3>
        <div class="relative"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.document_processing import build_humanitarian_knowledge_graph
entities = [{"id":"org1","type":"ORG","name":"WFP"},{"id":"loc1","type":"LOC","name":"Kandahar"}]
relations = [("org1","operates_in","loc1")]
spec = build_humanitarian_knowledge_graph(entities, relations, export_format="graphml")
print(spec)
</code></pre></div>
        <h3 class="text-sm font-semibold mt-2">Output</h3>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-json">{
  "type": "doc_build_knowledge_graph",
  "counts": {"entities": 2, "relations": 1},
  "export_format": "graphml",
  "schema": {},
  "preview": {"will_construct_graph": true}
}
</code></pre>
      </section>

      <footer class="text-xs text-gray-500 mt-10">© <span id="year"></span> HuDa</footer>
    </div>

    <script>
      const yearEl = document.getElementById('year');
      if (yearEl) yearEl.textContent = new Date().getFullYear();
      lucide.createIcons();
      if (window.hljs) { hljs.highlightAll(); }
      document.querySelectorAll('.copy-btn').forEach((btn) => {
        btn.addEventListener('click', () => {
          const pre = btn.nextElementSibling;
          const code = pre && pre.querySelector('code');
          if (!code) return;
          const text = code.innerText;
          navigator.clipboard.writeText(text).then(() => {
            const old = btn.textContent;
            btn.textContent = 'Copied!';
            setTimeout(() => (btn.textContent = old), 1200);
          });
        });
      });
    </script>
    </div>

    <!-- Footer -->
    <footer class="border-t border-white/60 bg-white/70 backdrop-blur supports-[backdrop-filter]:bg-white/60">
      <div class="max-w-7xl mx-auto px-4 md:px-6 py-6 flex flex-col md:flex-row items-center justify-between gap-4">
        <div class="text-sm text-gray-600">© <span id="year"></span> HuDa. Built for humanitarian analysts.</div>
        <div class="flex items-center gap-4 text-gray-600">
          <a href="#about" class="inline-flex items-center gap-1 hover:text-gray-900"><i data-lucide="info" class="w-4 h-4"></i>About</a>
          <a href="#contact" class="inline-flex items-center gap-1 hover:text-gray-900"><i data-lucide="mail" class="w-4 h-4"></i>Contact</a>
        </div>
      </div>
    </footer>
  </body>
</html>
