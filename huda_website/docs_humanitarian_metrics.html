<!DOCTYPE html>
<html lang="en" class="h-full bg-gray-50">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HuDa Docs â€” Humanitarian Metrics</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  </head>
  <body class="min-h-screen">
    <div class="max-w-5xl mx-auto p-6 md:p-10">
      <header class="flex items-center justify-between mb-8">
        <div class="flex items-center gap-3">
          <i data-lucide="activity" class="w-6 h-6 text-indigo-600"></i>
          <h1 class="text-2xl font-bold tracking-tight">Phase: Humanitarian Metrics</h1>
        </div>
        <a href="./index.html" class="text-sm text-gray-600 hover:text-gray-900 inline-flex items-center gap-2"><i data-lucide="arrow-left" class="w-4 h-4"></i> Back</a>
      </header>

      <p class="text-gray-700">Standard indicators for humanitarian reporting. Simple Afghan-focused examples. Each block has What, When, Why, Parameters, Example, Output. Copy buttons included.</p>

      <!-- population_in_need_percentage -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="pin">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="users" class="w-4 h-4"></i> population_in_need_percentage(data, in_need_col, population_col, group_by=None, percent=True)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> % of people in need out of population.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Situation overview and severity by area.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Shows scale of need relative to population.</p>
        <h3 class="text-sm font-semibold mt-3">Parameters</h3>
        <ul class="text-sm text-gray-700 list-disc pl-6">
          <li><code>in_need_col</code>: count in need.</li>
          <li><code>population_col</code>: total population.</li>
        </ul>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.humanitarian_metrics.population_in_need_percentage import population_in_need_percentage
import polars as pl

df = pl.DataFrame({"in_need":[1000], "population":[5000]})
print(population_in_need_percentage(df, in_need_col="in_need", population_col="population"))
</code></pre></div>
        <p class="text-gray-700 text-sm mt-2"><strong>Output:</strong> <code>pin_pct_placeholder</code>.</p>
      </section>

      <!-- targeted_vs_reached_percentage -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="targeted-reached">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="target" class="w-4 h-4"></i> targeted_vs_reached_percentage(data, targeted_col, reached_col, group_by=None, percent=True)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> % reached of targeted.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Monitoring progress against targets.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Shows implementation performance.</p>
        <h3 class="text-sm font-semibold mt-3">Parameters</h3>
        <ul class="text-sm text-gray-700 list-disc pl-6">
          <li><code>targeted_col</code>: planned target.</li>
          <li><code>reached_col</code>: actual reached.</li>
        </ul>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.humanitarian_metrics.targeted_vs_reached_percentage import targeted_vs_reached_percentage
print(targeted_vs_reached_percentage(df, targeted_col="target", reached_col="reached"))
</code></pre></div>
        <p class="text-gray-700 text-sm mt-2"><strong>Output:</strong> <code>pct_reached_of_targeted_placeholder</code>.</p>
      </section>

      <!-- coverage_ratio -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="coverage-ratio">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="ratio" class="w-4 h-4"></i> coverage_ratio(data, reached_col, targeted_col, group_by=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Coverage as reached/targeted.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Monitoring and endline reports.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> How much of the target is covered.</p>
        <h3 class="text-sm font-semibold mt-3">Parameters</h3>
        <ul class="text-sm text-gray-700 list-disc pl-6">
          <li><code>reached_col</code>: reached count.</li>
          <li><code>targeted_col</code>: targeted count.</li>
        </ul>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.humanitarian_metrics.coverage_ratio import coverage_ratio
print(coverage_ratio(df, reached_col="reached", targeted_col="target"))
</code></pre></div>
        <p class="text-gray-700 text-sm mt-2"><strong>Output:</strong> <code>coverage_ratio_placeholder</code>.</p>
      </section>

      <!-- children_affected_percentage -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="children-affected">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="baby" class="w-4 h-4"></i> children_affected_percentage(data, children_affected_col, population_col, group_by=None, percent=True)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> % of children affected.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Protection and child-focused reporting.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Highlights child-specific needs.</p>
        <h3 class="text-sm font-semibold mt-3">Parameters</h3>
        <ul class="text-sm text-gray-700 list-disc pl-6">
          <li><code>children_affected_col</code>: affected children.</li>
          <li><code>population_col</code>: population (or child population).</li>
        </ul>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.humanitarian_metrics.children_affected_percentage import children_affected_percentage
print(children_affected_percentage(df, children_affected_col="children_affected", population_col="population"))
</code></pre></div>
        <p class="text-gray-700 text-sm mt-2"><strong>Output:</strong> <code>pct_children_affected_placeholder</code>.</p>
      </section>

      <!-- women_affected_percentage -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="women-affected">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="woman" class="w-4 h-4"></i> women_affected_percentage(data, women_affected_col, population_col, group_by=None, percent=True)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> % of women affected.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Gender reporting.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Highlights women-specific needs.</p>
        <h3 class="text-sm font-semibold mt-3">Parameters</h3>
        <ul class="text-sm text-gray-700 list-disc pl-6">
          <li><code>women_affected_col</code>: affected women.</li>
          <li><code>population_col</code>: population (or female population).</li>
        </ul>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.humanitarian_metrics.women_affected_percentage import women_affected_percentage
print(women_affected_percentage(df, women_affected_col="women_affected", population_col="population"))
</code></pre></div>
        <p class="text-gray-700 text-sm mt-2"><strong>Output:</strong> <code>pct_women_affected_placeholder</code>.</p>
      </section>

      <!-- idps_refugees_affected_percentage -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="idps-refugees-affected">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="tent" class="w-4 h-4"></i> idps_refugees_affected_percentage(data, idps_col=None, refugees_col=None, population_col=None, total_affected_col=None, percent=True)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> % of IDPs/refugees affected.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Displacement-focused reporting.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Track vulnerability among displaced.</p>
        <h3 class="text-sm font-semibold mt-3">Parameters</h3>
        <ul class="text-sm text-gray-700 list-disc pl-6">
          <li><code>idps_col</code>, <code>refugees_col</code>: counts.</li>
          <li><code>population_col</code> or <code>total_affected_col</code>: denominator.</li>
        </ul>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.humanitarian_metrics.idps_refugees_affected_percentage import idps_refugees_affected_percentage
print(idps_refugees_affected_percentage(df, idps_col="idps", refugees_col="refugees", total_affected_col="affected"))
</code></pre></div>
        <p class="text-gray-700 text-sm mt-2"><strong>Output:</strong> <code>pct_idps_refugees_affected_placeholder</code>.</p>
      </section>

      <!-- food_consumption_score -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="fcs">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="salad" class="w-4 h-4"></i> food_consumption_score(data, food_group_cols, weights=None, group_by=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Simple FCS-like score.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Household food security surveys.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Summarize dietary diversity and frequency.</p>
        <h3 class="text-sm font-semibold mt-3">Parameters</h3>
        <ul class="text-sm text-gray-700 list-disc pl-6">
          <li><code>food_group_cols</code>: dict of food group -> column of days.</li>
          <li><code>weights</code>: optional weights per group.</li>
        </ul>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.humanitarian_metrics.food_consumption_score import food_consumption_score
cols = {"cereals":"cereals_days","legumes":"legumes_days"}
print(food_consumption_score(df, food_group_cols=cols))
</code></pre></div>
        <p class="text-gray-700 text-sm mt-2"><strong>Output:</strong> <code>fcs_placeholder</code>.</p>
      </section>

      <!-- coping_strategy_index -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="rcsi">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="scale" class="w-4 h-4"></i> coping_strategy_index(data, strategy_cols, weights=None, group_by=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> rCSI-like coping index.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Food security and shocks assessments.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Show reliance on negative coping.</p>
        <h3 class="text-sm font-semibold mt-3">Parameters</h3>
        <ul class="text-sm text-gray-700 list-disc pl-6">
          <li><code>strategy_cols</code>: dict of strategy -> column.</li>
          <li><code>weights</code>: optional weights per strategy.</li>
        </ul>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.humanitarian_metrics.coping_strategy_index import coping_strategy_index
cols = {"borrow_food":"borrow_days","reduce_meals":"reduce_days"}
print(coping_strategy_index(df, strategy_cols=cols))
</code></pre></div>
        <p class="text-gray-700 text-sm mt-2"><strong>Output:</strong> <code>coping_index_placeholder</code>.</p>
      </section>

      <!-- livelihood_coping_strategies -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="livelihood-coping">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="briefcase" class="w-4 h-4"></i> livelihood_coping_strategies(data, strategy_cols, group_by=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Sum of livelihood coping strategies.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Resilience and food security monitoring.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Track stress/crisis/emergency strategies.</p>
        <h3 class="text-sm font-semibold mt-3">Parameters</h3>
        <ul class="text-sm text-gray-700 list-disc pl-6">
          <li><code>strategy_cols</code>: list of strategy columns.</li>
        </ul>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.humanitarian_metrics.livelihood_coping_strategies import livelihood_coping_strategies
print(livelihood_coping_strategies(df, strategy_cols=["sell_assets","child_labor"]))
</code></pre></div>
        <p class="text-gray-700 text-sm mt-2"><strong>Output:</strong> <code>livelihood_coping_total_placeholder</code>.</p>
      </section>

      <!-- wash_access_indicators -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="wash-access">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="droplets" class="w-4 h-4"></i> wash_access_indicators(data, improved_water_col=None, improved_sanitation_col=None, population_col=None, percent=True)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> % with access to improved water/sanitation.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> WASH assessments.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Basic service access tracking.</p>
        <h3 class="text-sm font-semibold mt-3">Parameters</h3>
        <ul class="text-sm text-gray-700 list-disc pl-6">
          <li><code>improved_water_col</code>, <code>improved_sanitation_col</code>: counts.</li>
          <li><code>population_col</code>: denominator.</li>
        </ul>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.humanitarian_metrics.wash_access_indicators import wash_access_indicators
print(wash_access_indicators(df, improved_water_col="water_access", improved_sanitation_col="san_access", population_col="population"))
</code></pre></div>
        <p class="text-gray-700 text-sm mt-2"><strong>Output:</strong> <code>pct_improved_water_placeholder</code>, <code>pct_improved_sanitation_placeholder</code>.</p>
      </section>

      <!-- health_facility_density_per_10k -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="health-density">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="hospital" class="w-4 h-4"></i> health_facility_density_per_10k(data, facility_count_col, population_col, group_by=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Facilities per 10,000 population.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Service availability comparisons.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Normalized by population.</p>
        <h3 class="text-sm font-semibold mt-3">Parameters</h3>
        <ul class="text-sm text-gray-700 list-disc pl-6">
          <li><code>facility_count_col</code>: number of facilities.</li>
          <li><code>population_col</code>: population.</li>
        </ul>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.humanitarian_metrics.health_facility_density_per_10k import health_facility_density_per_10k
print(health_facility_density_per_10k(df, facility_count_col="clinics", population_col="population"))
</code></pre></div>
        <p class="text-gray-700 text-sm mt-2"><strong>Output:</strong> <code>health_facilities_per_10k_placeholder</code>.</p>
      </section>

      <!-- education_facility_density_per_10k -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="education-density">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="school" class="w-4 h-4"></i> education_facility_density_per_10k(data, facility_count_col, population_col, group_by=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Schools per 10,000 population.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Education facility availability.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Normalized by population.</p>
        <h3 class="text-sm font-semibold mt-3">Parameters</h3>
        <ul class="text-sm text-gray-700 list-disc pl-6">
          <li><code>facility_count_col</code>: number of schools.</li>
          <li><code>population_col</code>: population.</li>
        </ul>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.humanitarian_metrics.education_facility_density_per_10k import education_facility_density_per_10k
print(education_facility_density_per_10k(df, facility_count_col="schools", population_col="population"))
</code></pre></div>
        <p class="text-gray-700 text-sm mt-2"><strong>Output:</strong> <code>education_facilities_per_10k_placeholder</code>.</p>
      </section>

      <!-- malnutrition_rates -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="malnutrition-rates">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="soup" class="w-4 h-4"></i> malnutrition_rates(data, gam_col=None, sam_col=None, mam_col=None, population_u5_col=None, percent=True)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> GAM, SAM, MAM rates among U5.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Nutrition monitoring.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Track malnutrition burden.</p>
        <h3 class="text-sm font-semibold mt-3">Parameters</h3>
        <ul class="text-sm text-gray-700 list-disc pl-6">
          <li><code>gam_col</code>, <code>sam_col</code>, <code>mam_col</code>: case counts.</li>
          <li><code>population_u5_col</code>: U5 population.</li>
        </ul>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.humanitarian_metrics.malnutrition_rates import malnutrition_rates
print(malnutrition_rates(df, gam_col="gam", sam_col="sam", mam_col="mam", population_u5_col="u5_pop"))
</code></pre></div>
        <p class="text-gray-700 text-sm mt-2"><strong>Output:</strong> <code>gam_rate_placeholder</code>, <code>sam_rate_placeholder</code>, <code>mam_rate_placeholder</code>.</p>
      </section>

      <!-- crude_mortality_rate -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="cmr">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="heart-pulse" class="w-4 h-4"></i> crude_mortality_rate(data, deaths_col, population_col, period_days=None, per=10000)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> CMR per 10,000 (optionally period-normalized).</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Health/emergency comparisons.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Standardized severity indicator.</p>
        <h3 class="text-sm font-semibold mt-3">Parameters</h3>
        <ul class="text-sm text-gray-700 list-disc pl-6">
          <li><code>deaths_col</code>: death counts.</li>
          <li><code>population_col</code>: population at risk.</li>
          <li><code>period_days</code>: optional period days.</li>
        </ul>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.humanitarian_metrics.crude_mortality_rate import crude_mortality_rate
print(crude_mortality_rate(df, deaths_col="deaths", population_col="population", period_days=30))
</code></pre></div>
        <p class="text-gray-700 text-sm mt-2"><strong>Output:</strong> <code>cmr_placeholder</code>.</p>
      </section>

      <!-- under_five_mortality_rate -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="u5mr">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="baby" class="w-4 h-4"></i> under_five_mortality_rate(data, under5_deaths_col, population_u5_col, period_days=None, per=10000)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> U5MR per 10,000 (optionally period-normalized).</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Health/emergency comparisons.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Standardized child severity indicator.</p>
        <h3 class="text-sm font-semibold mt-3">Parameters</h3>
        <ul class="text-sm text-gray-700 list-disc pl-6">
          <li><code>under5_deaths_col</code>: U5 death counts.</li>
          <li><code>population_u5_col</code>: U5 population.</li>
          <li><code>period_days</code>: optional period days.</li>
        </ul>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.humanitarian_metrics.under_five_mortality_rate import under_five_mortality_rate
print(under_five_mortality_rate(df, under5_deaths_col="u5_deaths", population_u5_col="u5_pop", period_days=30))
</code></pre></div>
        <p class="text-gray-700 text-sm mt-2"><strong>Output:</strong> <code>u5mr_placeholder</code>.</p>
      </section>

      <!-- conflict_incident_counts -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="conflict-incidents">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="shield-alert" class="w-4 h-4"></i> conflict_incident_counts(data, incident_id_col=None, date_column=None, group_by=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Count security/conflict incidents.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Protection and access monitoring.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Track intensity and distribution.</p>
        <h3 class="text-sm font-semibold mt-3">Parameters</h3>
        <ul class="text-sm text-gray-700 list-disc pl-6">
          <li><code>incident_id_col</code>: unique id (optional).</li>
          <li><code>group_by</code>: list of grouping columns.</li>
        </ul>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.humanitarian_metrics.conflict_incident_counts import conflict_incident_counts
print(conflict_incident_counts(df, incident_id_col="incident_id"))
</code></pre></div>
        <p class="text-gray-700 text-sm mt-2"><strong>Output:</strong> <code>incident_count_placeholder</code>.</p>
      </section>

      <!-- people_displaced_per_1000 -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="displaced-per-1000">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="move" class="w-4 h-4"></i> people_displaced_per_1000(data, displaced_col, population_col, group_by=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Displaced per 1,000 population.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Displacement monitoring.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Normalized comparison across areas.</p>
        <h3 class="text-sm font-semibold mt-3">Parameters</h3>
        <ul class="text-sm text-gray-700 list-disc pl-6">
          <li><code>displaced_col</code>: number displaced.</li>
          <li><code>population_col</code>: population.</li>
        </ul>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.humanitarian_metrics.people_displaced_per_1000 import people_displaced_per_1000
print(people_displaced_per_1000(df, displaced_col="displaced", population_col="population"))
</code></pre></div>
        <p class="text-gray-700 text-sm mt-2"><strong>Output:</strong> <code>displaced_per_1000_placeholder</code>.</p>
      </section>

      <!-- humanitarian_access_constraints_index -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="access-index">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="key-round" class="w-4 h-4"></i> humanitarian_access_constraints_index(data, constraint_cols, weights=None, group_by=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Combined index of access constraints.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Access monitoring and planning.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Simple score to compare barriers.</p>
        <h3 class="text-sm font-semibold mt-3">Parameters</h3>
        <ul class="text-sm text-gray-700 list-disc pl-6">
          <li><code>constraint_cols</code>: dict of constraint -> column.</li>
          <li><code>weights</code>: optional weights.</li>
        </ul>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.humanitarian_metrics.humanitarian_access_constraints_index import humanitarian_access_constraints_index
cols = {"security":"sec_level","terrain":"mountainous"}
print(humanitarian_access_constraints_index(df, constraint_cols=cols))
</code></pre></div>
        <p class="text-gray-700 text-sm mt-2"><strong>Output:</strong> <code>access_constraints_index_placeholder</code>.</p>
      </section>

      <!-- funding_received_vs_requested -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="funding-ratio">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="banknote" class="w-4 h-4"></i> funding_received_vs_requested(data, received_col, requested_col, group_by=None, percent=True)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Funding progress vs request.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Appeals and donor reporting.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Show gaps and progress.</p>
        <h3 class="text-sm font-semibold mt-3">Parameters</h3>
        <ul class="text-sm text-gray-700 list-disc pl-6">
          <li><code>received_col</code>: amount received.</li>
          <li><code>requested_col</code>: amount requested.</li>
        </ul>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.humanitarian_metrics.funding_received_vs_requested import funding_received_vs_requested
print(funding_received_vs_requested(df, received_col="received", requested_col="requested"))
</code></pre></div>
        <p class="text-gray-700 text-sm mt-2"><strong>Output:</strong> <code>pct_received_placeholder</code>, <code>funding_gap_placeholder</code>.</p>
      </section>

      <!-- donor_contribution_tracking -->
      <section class="mt-8 rounded-lg border border-gray-200 bg-white p-5" id="donor-tracking">
        <div class="flex items-center gap-2 text-base font-semibold text-gray-900 mb-2"><i data-lucide="hand-coins" class="w-4 h-4"></i> donor_contribution_tracking(data, donor_col, amount_col, group_by=None)</div>
        <p class="text-gray-700 text-sm"><strong>What:</strong> Sum contributions by donor.</p>
        <p class="text-gray-700 text-sm"><strong>When:</strong> Financial tracking.</p>
        <p class="text-gray-700 text-sm"><strong>Why:</strong> Monitor top donors and totals.</p>
        <h3 class="text-sm font-semibold mt-3">Parameters</h3>
        <ul class="text-sm text-gray-700 list-disc pl-6">
          <li><code>donor_col</code>: donor name.</li>
          <li><code>amount_col</code>: amount value.</li>
        </ul>
        <div class="relative mt-2"><button class="copy-btn absolute top-2 right-2 text-xs px-2 py-1 rounded bg-gray-700 text-white">Copy</button>
<pre class="rounded-md bg-gray-900 text-gray-100 p-3 overflow-auto"><code class="language-python">from huda.humanitarian_metrics.donor_contribution_tracking import donor_contribution_tracking
print(donor_contribution_tracking(df, donor_col="donor", amount_col="amount"))
</code></pre></div>
        <p class="text-gray-700 text-sm mt-2"><strong>Output:</strong> Same table with aggregation to be implemented later.</p>
      </section>

      <footer class="text-xs text-gray-500 mt-10">Â© <span id="year"></span> HuDa</footer>
    </div>

    <script>
      const yearEl = document.getElementById('year');
      if (yearEl) yearEl.textContent = new Date().getFullYear();
      lucide.createIcons();
      if (window.hljs) { hljs.highlightAll(); }
      document.querySelectorAll('.copy-btn').forEach((btn) => {
        btn.addEventListener('click', () => {
          const pre = btn.nextElementSibling;
          const code = pre && pre.querySelector('code');
          if (!code) return;
          const text = code.innerText;
          navigator.clipboard.writeText(text).then(() => {
            const old = btn.textContent;
            btn.textContent = 'Copied!';
            setTimeout(() => (btn.textContent = old), 1200);
          });
        });
      });
    </script>
  </body>
</html>
